# 💭 2026-02-04 (Wed) TIL

## 🌱 Todo

### 코테 준비
- □ **solved.ac class 3** 3문제 
  - ☑️ 
  - ✍️ 1874(수열), 공통문제 - [2346, 2493], 17298

- ✔️ ~~새싹(SeSAC) 강의 진도 따라가기~~
  - fastapi

...

## 🎧 간단 정리

### [FastAPI]

### Layerd Architecture
> **표현 계층(Presentation Layer)**
- 사용자와의 상호작용
- pydatic 통해 데이터 형식 검증
- `APIRouter`

> **Business Layer (비즈니스 계층)**
- 유효성 검증 및 표현, 데이터접근 계층 중계
- `Service`

> **Data Access Layer (데이터 접근 계층)**
- DB와 상호작용
- 데이터 CRUD

<br>

**폴더구조**
```markdown
mysite3/
├── repositories/
│   └── post_repository.py
├── routers/
│   └── post_router.py
├── schemas/
│   └── post.py
└── services/
    └── post_service.py
```

router -> service -> repository

**APIRouter**

더 자세히 쓰기

---

### 데이터 검증 및 필드 제어
> **Annotated**
- 타입 힌트 시스템을 확장하여 타입에 임의의 메타데이터 결합
- Anootated[T,x] (T:실제 정적 타입, x: 메타데이터)

> **Path & Query (매개변수 선언 도구)**
```python
변수명 : Annotated[타입, 도구(**옵션)] = 기본값
```
- 기본값이 `...`인 경우 필수 매개변수
- 선택적 매개변수
```python
변수명 : Annotated[타입 | None, 도구(**옵션)] = None
```

> **Pydantic Field** 

모델 클래스 내부에서 필드별 검증, 직렬화, 문서화 설정

<details>

```python
from pydantic import BaseModel, Field

class ProductCreate(BaseModel):
    # 1. 필수값, 별칭(prod_name), 길이 제한, 예시 데이터
    name: str = Field(
        ..., 
        alias="prod_name", 
        min_length=2, 
        max_length=100,
        examples=["유기농 귀리 우유 1L"]
    )
    
    # 2. 숫자 범위 제한 (가격: 0원 이상, 1,000,000원 이하)
    price: int = Field(
        ...,
        ge=0,
        le=1000000,
        description="상품의 판매 가격 (원 단위)",
        examples=[15000]
    )
    
    # 3. 기본값 설정 및 문서용 설명 (상태 코드)
    # gt(Greater Than): 0보다 커야 함 (최소 수량 1개)
    stock: int = Field(
        default=10,
        gt=0,
        description="현재 재고 수량"
    )

    # 4. 문자열 패턴 제한 (예: 상품 코드 형식 PRD-0000)
    category: str = Field(
        default="ETC",
        max_length=20,
        description="상품 카테고리 (FOOD, TECH, LIFE 등)"
    )
```

</details>


...

## 🐚 회고
**골드 5 문제 겁나 어렵네... 비슷한 유형 많이 접해보도록 노력하자**